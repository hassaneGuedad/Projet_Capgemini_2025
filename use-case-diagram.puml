@startuml "Diagramme de Cas d'Utilisation - Projet Capgemini NextJS"

!define RECTANGLE class

' Configuration du diagramme
skinparam actorStyle awesome
skinparam usecase {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    ArrowColor DarkBlue
}

' Acteurs principaux
actor "Utilisateur\nNon Authentifié" as UNA #LightGray
actor "Utilisateur\nAuthentifié" as UA #LightBlue
actor "Administrateur" as ADMIN #Orange
actor "Système IA\n(Agents)" as AI #Purple

' Acteurs système externes
actor "Firebase Auth" as FIREBASE #Red
actor "GitHub API" as GITHUB #Black
actor "Netlify API" as NETLIFY #Green
actor "DeepSeek API" as DEEPSEEK #Blue

' Système principal
rectangle "Système Capgemini Workspace" as SYSTEM {
    ' Interface Utilisateur
    package "Interface Utilisateur" {
        usecase "Accéder à la\nPage d'Accueil" as UC1
        usecase "Consulter le\nGuide d'Utilisation" as UC2
        usecase "Contacter le\nSupport" as UC3
        usecase "Accéder au\nDashboard" as UC4
    }
    
    ' Fonctionnalités principales
    package "Fonctionnalités Principales" {
        usecase "Créer un Prompt\nde Projet" as UC5
        usecase "Générer un\nProjet Complet" as UC6
        usecase "Éditer du Code\nen Temps Réel" as UC7
        usecase "Générer des\nDiagrammes UML" as UC8
        usecase "Interagir avec\nle Chatbot IA" as UC9
        usecase "Exporter un\nProjet (ZIP)" as UC10
        usecase "Déployer un\nProjet" as UC11
        usecase "Sauvegarder des\nPlans" as UC12
        usecase "Consulter\nl'Historique" as UC13
        usecase "Rechercher dans\nle Code" as UC14
        usecase "Modifier des\nFichiers" as UC15
    }
    
    ' Fonctionnalités administratives
    package "Fonctionnalités Administratives" {
        usecase "Gérer les Emails\nAutorisés" as UC16
        usecase "Consulter les\nStatistiques" as UC17
        usecase "Configurer le\nSystème" as UC18
    }
    
    ' Services backend
    package "Services Backend" {
        usecase "Authentification\nSécurisée" as UC19
        usecase "Génération de\nCode IA" as UC20
        usecase "Analyse de\nCode" as UC21
        usecase "Stockage des\nDonnées" as UC22
    }
}

' Relations Utilisateur Non Authentifié
UNA --> UC1
UNA --> UC2
UNA --> UC3
UNA --> FIREBASE : "S'inscrire/\nSe connecter"

' Relations Utilisateur Authentifié
UA --> UC4
UA --> UC5
UA --> UC6
UA --> UC7
UA --> UC8
UA --> UC9
UA --> UC10
UA --> UC11
UA --> UC12
UA --> UC13
UA --> UC14
UA --> UC15

' Relations Administrateur
ADMIN --> UC16
ADMIN --> UC17
ADMIN --> UC18
ADMIN --> UC16 : "Ajouter/Supprimer\nemails autorisés"
ADMIN --> UC17 : "Consulter\nmétriques"
ADMIN --> UC18 : "Paramétrer\nfonctionnalités"

' Relations Système IA
AI --> UC5 : "Analyser\nprompt"
AI --> UC6 : "Générer\ncode"
AI --> UC9 : "Répondre\nquestions"
AI --> UC14 : "Expliquer\ncode"
AI --> UC15 : "Modifier\ncode"

' Relations APIs Externes
DEEPSEEK --> UC6 : "Génération\nde code"
GITHUB --> UC11 : "Créer repository\net push code"
NETLIFY --> UC11 : "Déployer\napplication"
FIREBASE --> UC19 : "Authentification\nsécurisée"

' Relations internes du système
UC5 --> UC20
UC6 --> UC20
UC9 --> UC21
UC8 --> UC21
UC12 --> UC22
UC13 --> UC22
UC16 --> UC22
UC17 --> UC22

' Relations d'inclusion et d'extension
UC6 ..> UC7 : <<include>>
UC6 ..> UC8 : <<include>>
UC9 ..> UC14 : <<extend>>
UC11 ..> UC10 : <<extend>>

' Notes explicatives
note right of UC6
  Le système IA analyse le prompt
  et génère automatiquement :
  - Structure du projet
  - Code source
  - Configuration
  - Documentation
end note

note right of UC9
  Le chatbot IA peut :
  - Expliquer le code
  - Modifier des fichiers
  - Répondre aux questions
  - Suggérer des améliorations
end note

note right of UC16
  L'administrateur peut :
  - Ajouter des emails autorisés
  - Supprimer des accès
  - Gérer les permissions
  - Voir la liste des utilisateurs
end note

note right of UC8
  Génération automatique de :
  - Diagrammes de classes
  - Diagrammes de composants
  - Diagrammes de séquence
  - Diagrammes d'activité
  - Diagrammes entité-relation
end note

@enduml 